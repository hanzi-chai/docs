---
title: 组装器
sidebar: { order: 4 }
---

# 组装器

组装器是将部件分析、复合体分析、拼音分析的结果合起来，经过一系列取码操作，变成元素序列表。其接口分为两个部分：

- 一字词组装：给定一个汉字的部件分析或复合体分析、音节的拼写运算，输出一个元素序列
- 多字词组装：给定多字词中各个字的部件分析或复合体分析、各个音节的拼写运算，输出一个元素序列

```ts
interface 组装器<
  部件分析 extends 基本分析 = 基本分析,
  复合体分析 extends 基本分析 = 基本分析,
> {
  一字词组装(
    汉字: string,
    字形分析: 部件分析 | 复合体分析,
    拼写运算: Map<string, string>,
  ): Result<码位[], Error>;

  多字词组装(
    词: string,
    字形分析: (部件分析 | 复合体分析)[],
    拼写运算: Map<string, string>[],
  ): Result<码位[], Error>;
}
```

## 默认组装器

默认组装器中，一字词组装是用配置文件中的流程图驱动的，而多字词组装是用配置文件中的构词规则驱动的。也就是说，多字词的元素序列是由一字词的元素序列按一定的顺序和索引组合出来的。

组装器一般没有自定义的需要，不过为了完整性还是提供了「星空键道组装器」作为另一个实例。
